#root.root {
  --tabs-audio-btn-width: 12px;
}
#root.root {
  --ntb-btn-height: 42px;
}
#root.root {
  --tabs-inner-gap: 12px;
}
#root.root {
  --nav-btn-width: 45px;
}

/* -------------- CATPPUCCIN -------------- */

:root {
  --ctp-rosewater: #f5e0dc;
  --ctp-flamingo: #f2cdcd;
  --ctp-pink: #f5c2e7;
  --ctp-mauve: #cba6f7;
  --ctp-red: #f38ba8;
  --ctp-maroon: #eba0ac;
  --ctp-peach: #fab387;
  --ctp-yellow: #f9e2af;
  --ctp-green: #a6e3a1;
  --ctp-teal: #94e2d5;
  --ctp-sky: #89dceb;
  --ctp-sapphire: #74c7ec;
  --ctp-blue: #87b0f9;
  --ctp-lavender: #b4befe;
  --ctp-text: #c6d0f5;
  --ctp-subtext1: #b3bcdf;
  --ctp-subtext0: #a1a8c9;
  --ctp-overlay2: #8e95b3;
  --ctp-overlay1: #7b819d;
  --ctp-overlay0: #696d86;
  --ctp-surface2: #565970;
  --ctp-surface1: #43465a;
  --ctp-surface0: #262626;
  --ctp-base: #161616;
  --ctp-mantle: #0b0b0b;
  --ctp-crust: #000000;
}

/*tab close button*/
.Tab .close > svg {
  fill: var(--ctp-maroon);
}

.Tab .close:hover > svg {
  fill: var(--ctp-red);
}

/*containers*/
#root[data-style="auto"] {
  --container-fg: var(--ctp-text);
  --active-container-fg: var(--ctp-text);
}

/*bookmarks*/
#root[data-style="auto"] {
  --bookmarks-node-title-fg: var(--ctp-subtext0);
  --bookmarks-node-title-fg-hover: var(--ctp-subtext1);
  --bookmarks-node-title-fg-active: var(--ctp-text);
  --bookmarks-node-bg-hover: var(--ctp-crust);
  --bookmarks-node-bg-active: var(--ctp-mantle);
  --bookmarks-folder-closed-fg: var(--ctp-surface2);
  --bookmarks-folder-closed-fg-hover: var(--ctp-sky);
  --bookmarks-folder-closed-fg-active: var(--ctp-sky);
  --bookmarks-folder-expanded-fg: var(--ctp-blue);
  --bookmarks-folder-expanded-fg-hover: var(--ctp-blue);
  --bookmarks-folder-expanded-fg-active: var(--ctp-blue);
  --bookmarks-folder-empty-fg: var(--ctp-surface0);
  --bookmarks-open-bookmark-fg: var(--ctp-blue);
}

/*tabs*/
#root[data-style="auto"] {
  --tabs-fg: var(--ctp-subtext0);
  --tabs-fg-hover: var(--ctp-subtext1);
  --tabs-fg-active: var(--ctp-rosewater);
  --tabs-bg-hover: var(--ctp-crust);
  --tabs-bg-active: var(--ctp-mantle);
  --tabs-activated-bg: var(--ctp-mantle);
  --tabs-activated-fg: var(--ctp-text);
  --tabs-selected-bg: var(--ctp-blue);
  --tabs-selected-fg: var(--ctp-crust);
  --tabs-loading-fg: var(--ctp-blue);
  --tabs-update-badge-bg: var(--ctp-blue);
  --tabs-lvl-indicator-bg: var(--ctp-surface0);
}

/*navbar button*/
#root[data-style="auto"] {
  --nav-btn-fg: var(--ctp-text);
  --nav-btn-bg-focus: var(--ctp-overlay0);
  --nav-btn-activated-bg: var(--ctp-mantle);
  /*(shadow not styled yet)*/
  --nav-btn-update-badge-bg: var(--ctp-blue);
}

/*context menu*/
#root[data-style="auto"] {
  --ctx-menu-bg: var(--ctp-surface0);
  --ctx-menu-bg-hover: var(--ctp-base);
  --ctx-menu-warn-bg-hover: var(--ctp-maroon);
  --ctx-menu-fg: var(--ctp-text);
  --ctx-menu-warn-fg: var(--ctp-maroon);
  /*(shadow not styled yet)*/
}

/*buttons*/
#root[data-style="auto"] {
  --btn-bg: var(--ctp-blue);
  --btn-bg-hover: var(--ctp-sapphire);
  --btn-bg-active: var(--ctp-sky);
}

/*base*/
#root[data-style="auto"] {
  --bg: var(--ctp-base);
  --title-fg: var(--ctp-text);
  --sub-title-fg: var(--ctp-text);
  --label-fg: var(--ctp-subtext0);
  --label-fg-hover: var(--ctp-subtext1);
  --label-fg-active: var(--ctp-text);
  --info-fg: var(--ctp-sapphire);
  --true-fg: var(--ctp-green);
  --false-fg: var(--ctp-red);
  --false-bg: var(--ctp-crust);
  --active-fg: var(--ctp-blue);
  --inactive-fg: var(--ctp-surface2);
  --notice-fg: var(--ctp-sky);
  --favicons-placeholder-bg: var(--ctp-surface0);
  --border-fg: var(--ctp-crust);
  --border-active-fg: var(--ctp-crust);
  --border-flare-fg: var(--ctp-mantle);
  --progress-fg: var(--ctp-sky);
  --progress-bg: var(--ctp-surface0);
}

/* -------------- AUTO HIDE -------------- */

.Tab[data-lvl="0"],
.pointer[data-lvl="0"] {
  --tree-lvl: 0;
}
.Tab[data-lvl="1"],
.pointer[data-lvl="1"] {
  --tree-lvl: 1;
}
.Tab[data-lvl="2"],
.pointer[data-lvl="2"] {
  --tree-lvl: 2;
}

.Tab {
  right: calc(var(--tabs-indent) * var(--tree-lvl));
  transition: right 100ms ease;
}

.ScrollBox:hover .Tab {
  right: 0px;
}

.ScrollBox:not(:hover) .Tab {
  --tabs-activated-bg: none;
}

#root {
  --tabs-font: 9pt;
  --tabs-count-font: 0.625rem;
  --bookmarks-bookmark-font: 0.875rem;
  --bookmarks-folder-font: 9pt;
  --nav-btn-width: 42px;
  --nav-btn-height: 42px;
}

/* Adjust styles according to sidebar width */
@media screen and (max-width: 47px) {
  #root {
    --tabs-indent: unset;
  }

  .Tab[data-audible]:not([data-muted]) svg.-loud,
  .Tab[data-muted] svg.-mute {
    transform: translateY(4px) translateX(-13px);
  }

  .NavigationBar .panel-btn:not([data-active="true"]),
  .Sidebar .settings-btn,
  .Tab .close,
  .Tab .title {
    visibility: collapse;
  }

  .Tab .exp,
  .Tab[data-parent][data-folded] .fav {
    pointer-events: none;
  }
}

/*
   * Add margins and rounding around tabs
   */

#root {
  --tabs-height: 42px;
}

/* Background layer */
.Tab .lvl-wrapper:after {
  content: "";
  position: absolute;
  top: 5px;
  left: 5px;
  width: calc(100% - 10px);
  height: calc(100% - 6px);
  border-radius: 4px;
  z-index: -1;
}

/*
  @media (prefers-color-scheme:light) {
    #root {
      --tabs-activated-bg: white !important;
      --tabs-bg-active: var(--tabs-activated-bg) !important;
      --tabs-selected-fg: var(--tabs-activated-fg) !important;
      --tabs-selected-bg: var(--tabs-activated-bg) !important;
      --bg: #f9f9fb !important;
      --chrome-content-separator-color: rgb(204,204,204);
    }
    
    .Tab[data-selected] .lvl-wrapper:after,
    .Tab[data-active] .lvl-wrapper:after {
      box-shadow: 0 0 1px rgba(128,128,142,0.9), 0 0 4px rgba(128,128,142,0.5);
    }
  }
  
  @media (prefers-color-scheme:dark) {
    #root {
      --tabs-activated-bg: #42414d !important;
      --tabs-bg-active: var(--tabs-activated-bg) !important;
      --tabs-selected-fg: var(--tabs-activated-fg) !important;
      --tabs-selected-bg: var(--tabs-activated-bg) !important;
      --bg: #2b2a33 !important;
      --chrome-content-separator-color: #0c0c0d;
      --tabs-bg-hover: rgb(51, 51, 62) !important;
    }
    .Tab[data-selected] .lvl-wrapper:after,
    .Tab[data-active] .lvl-wrapper:after {
      box-shadow: 0 0 1px rgba(128,128,142,0.9);
    }
    .Tab .placeholder > svg {
      fill: var(--nav-btn-fg);
    }
  }
  */

/* Reset default styles */
/*
  .Tab:hover,
  .Tab:active,
  .Tab[data-active],
  .Tab[data-active]:active,
  .Tab[data-selected],
  .Tab[data-selected]:hover,
  .Tab[data-selected]:active {
    background: transparent;
  }
  */

/* Reapply styles */
/*
  .Tab:hover .lvl-wrapper:after {
    background-color: var(--tabs-bg-hover);
  }
  
  .NavigationBar .panel-btn[data-active="true"],
  .Tab:active .lvl-wrapper:after,
  .Tab[data-active]:active .lvl-wrapper:after {
    background-color: var(--tabs-bg-active);
  }
  
  .Tab[data-active] .lvl-wrapper:after {
    background-color: var(--tabs-activated-bg);
  }
  
  
  .Tab[data-selected] .lvl-wrapper:after {
    background-color: var(--tabs-selected-bg);,
  }
  */

/* Resize and reposition favicons */
.Tab .fav {
  margin-left: 15px;
}

.Tab .fav,
.Tab .placeholder,
.Tab .t-box {
  margin-bottom: -3px;
}

.TabsPanel .container {
  box-shadow: none;
}

.Sidebar::before {
  --border-margin: 16px;
  content: "";
  width: calc(100% - var(--border-margin));
  margin: 0 calc(var(--border-margin) / 2);
  border-top: 1px solid var(--chrome-content-separator-color);
}

.Tab .audio {
  left: 20px !important;
  top: 10px !important;
  z-index: 21 !important;
  transform: translateX(5px);
}

.Tab .close {
  margin-right: 0 5px;
}

.Tab .t-box {
  width: calc(100% - 50px);
}

.Tab[data-audible="true"] .t-box,
.Tab[data-muted="true"] .t-box,
.Tab[data-paused="true"] .t-box {
  transform: translateX(0px);
}

.NavigationBar .panels-box {
  /*  flex-wrap: nowrap;*/
}

#root[data-nav-layout="horizontal"] .NavigationBar,
#root[data-nav-layout="hidden"] .NavigationBar {
  box-shadow: none;
}

.NavigationBar .panel-btn {
  top: 5px;
  left: 5px;
  width: calc(var(--nav-btn-width) - 6px);
  height: calc(var(--nav-btn-height) - 6px);
  border-radius: 4px;
  margin-right: 5px;
  margin-bottom: 10px;
}

.NavigationBar .panel-btn[data-active="true"] {
  box-shadow: 0 0 1px rgba(128, 128, 142, 0.9);
}

/*
  .Sidebar .panel::before{
    --border-margin: 16px;
    content: '';
    width: calc(100% - var(--border-margin));
    margin: 0 calc(var(--border-margin) / 2);
    border-top: 1px solid var(--chrome-content-separator-color);
  }
  .NavigationBar .panels-box {
    flex-wrap: nowrap;
  }
  */
